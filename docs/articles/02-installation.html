<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="prisma">
<title>PRISMA installation â€¢ prisma</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="PRISMA installation">
<meta property="og:description" content="prisma">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">prisma</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01-introduction.html">Introduction to the prisma package</a>
    <a class="dropdown-item" href="../articles/02-installation.html">PRISMA installation</a>
    <a class="dropdown-item" href="../articles/03-gwasexperiment.html">The GWASExperiment class</a>
    <a class="dropdown-item" href="../articles/04-inoutfilter.html">Reading, writing and filtering files and objects</a>
    <a class="dropdown-item" href="../articles/05-imputemerge.html">Imputation of missing genotypes, genotype extension and dataset merging</a>
    <a class="dropdown-item" href="../articles/06-gwasfuns.html">Single trait association tests and summary statistics</a>
    <a class="dropdown-item" href="../articles/07-prsfuns.html">Derivation of PRS candidates and evaluation</a>
    <a class="dropdown-item" href="../articles/08-pipelines.html">Complete PRISMA pipelines</a>
    <a class="dropdown-item" href="../articles/09-external.html">Evaluation of external PRS or external GWAS</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pmoulos/prisma/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">

<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>PRISMA installation</h1>
                        <h4 data-toc-skip class="author">Panagiotis Moulos</h4>
            
            <h4 data-toc-skip class="date">2022-06-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/pmoulos/prisma/blob/HEAD/vignettes/02-installation.Rmd" class="external-link"><code>vignettes/02-installation.Rmd</code></a></small>
      <div class="d-none name"><code>02-installation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="prisma-installation">PRISMA installation<a class="anchor" aria-label="anchor" href="#prisma-installation"></a>
</h2>
<p>Apart from CRAN and Bioconductor dependencies, PRISMA also depends on:</p>
<ul>
<li>The presence of certain system packages</li>
<li>The presence of the <a href="https://github.com/tshmak/lassosum" class="external-link">lassosum</a> which is not on CRAN or Bioconductor</li>
<li>The presence of certain 3rd party tools which must be findable by PRISMA (can be installed also with PRISMA functions)</li>
</ul>
<p>The following outline the whole process.</p>
<div class="section level3">
<h3 id="prerequisites">Prerequisites<a class="anchor" aria-label="anchor" href="#prerequisites"></a>
</h3>
<div class="section level4">
<h4 id="system-packages">System packages<a class="anchor" aria-label="anchor" href="#system-packages"></a>
</h4>
<p>Some or all of these may be already installed on the system. There might be additional ones depending on the Linux distribution prisma is being installed to. This list will be maintained and updated.</p>
<pre><code>sudo apt install -y apt-transport-https software-properties-common \
    build-essential zlib1g-dev libdb-dev libcurl4-openssl-dev libssl-dev \
    libxml2-dev apache2 libfontconfig1-dev libjpeg-dev</code></pre>
</div>
<div class="section level4">
<h4 id="r-packages">R packages<a class="anchor" aria-label="anchor" href="#r-packages"></a>
</h4>
<div class="section level5">
<h5 id="basic-installation-of-bioconductor">Basic installation of Bioconductor<a class="anchor" aria-label="anchor" href="#basic-installation-of-bioconductor"></a>
</h5>
<pre><code><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st">"BiocManager"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"BiocManager"</span><span class="op">)</span>
<span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocManager/man/install.html" class="external-link">install</a></span><span class="op">(</span>version <span class="op">=</span> <span class="st">"3.15"</span><span class="op">)</span></code></pre>
</div>
<div class="section level5">
<h5 id="additional-packages">Additional packages<a class="anchor" aria-label="anchor" href="#additional-packages"></a>
</h5>
<p>The following packages are either on CRAN or on Bioconductor:</p>
<pre><code><span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BSgenome.Hsapiens.UCSC.hg19"</span>,<span class="st">"BSgenome.Hsapiens.UCSC.hg38"</span>,
    <span class="st">"Biobase"</span>,<span class="st">"biomaRt"</span>,<span class="st">"BSgenome"</span>,<span class="st">"data.table"</span>,<span class="st">"GenomicRanges"</span>,<span class="st">"ggplot2"</span>,
    <span class="st">"gwasrapidd"</span>,<span class="st">"harmonicmeanp"</span>,<span class="st">"islasso"</span>,<span class="st">"jsonlite"</span>,<span class="st">"kableExtra"</span>,<span class="st">"knitr"</span>,
    <span class="st">"liftOver"</span>,<span class="st">"Matrix"</span>,<span class="st">"magrittr"</span>,<span class="st">"methods"</span>,<span class="st">"openxlsx"</span>,<span class="st">"pander"</span>,<span class="st">"parallel"</span>,
    <span class="st">"PhenotypeSimulator"</span>,<span class="st">"quincunx"</span>,<span class="st">"R.utils"</span>,<span class="st">"rmarkdown"</span>,<span class="st">"rmdformats"</span>,
    <span class="st">"RcppArmadillo"</span>,<span class="st">"RMTstat"</span>,<span class="st">"rrBLUP"</span>,<span class="st">"rrcov"</span>,<span class="st">"rsnps"</span>,<span class="st">"rtracklayer"</span>,
    <span class="st">"S4Vectors"</span>,<span class="st">"scales"</span>,<span class="st">"scrime"</span>,<span class="st">"snpStats"</span>,<span class="st">"SNPRelate"</span>,
    <span class="st">"SNPlocs.Hsapiens.dbSNP151.GRCh38"</span>,<span class="st">"statgenGWAS"</span>,<span class="st">"SummarizedExperiment"</span>,
    <span class="st">"survcomp"</span>,<span class="st">"testthat"</span>,<span class="st">"tseries"</span>,<span class="st">"utils"</span><span class="op">)</span>

<span class="fu">BiocManager</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocManager/man/install.html" class="external-link">install</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">)</span></code></pre>
<p>Also, <code>lassosum</code> is not on CRAN:</p>
<pre><code><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span>
<span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"tshmak/lassosum"</span><span class="op">)</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="other-external-tools-and-resources">Other external tools and resources<a class="anchor" aria-label="anchor" href="#other-external-tools-and-resources"></a>
</h4>
<p>The following tools should be findable by R, for example they should be included in the system's <code>PATH</code> environmental variable.</p>
<div class="section level5">
<h5 id="summary-statistics">Summary statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h5>
<ul>
<li><a href="https://www.well.ox.ac.uk/~gav/snptest/" class="external-link">SNPTEST</a></li>
<li><a href="https://www.cog-genomics.org/plink/" class="external-link">PLINK</a></li>
</ul>
</div>
<div class="section level5">
<h5 id="prs-extraction">PRS extraction<a class="anchor" aria-label="anchor" href="#prs-extraction"></a>
</h5>
<ul>
<li><a href="https://www.prsice.info/" class="external-link">PRSice-2</a></li>
</ul>
</div>
<div class="section level5">
<h5 id="other-tools-format-conversion-and-imputation">Other tools (format conversion and imputation)<a class="anchor" aria-label="anchor" href="#other-tools-format-conversion-and-imputation"></a>
</h5>
<ul>
<li><a href="https://www.well.ox.ac.uk/~cfreeman/software/gwas/gtool.html" class="external-link">GTOOL</a></li>
<li><a href="https://www.well.ox.ac.uk/~gav/qctool_v2/" class="external-link">QCTOOL</a></li>
<li><a href="http://mathgen.stats.ox.ac.uk/impute/impute_v2.html" class="external-link">IMPUTE2</a></li>
<li><a href="https://mathgen.stats.ox.ac.uk/impute/1000GP_Phase3.tgz" class="external-link">IMPUTE2 reference panel files</a></li>
</ul>
</div>
</div>
</div>
<div class="section level3">
<h3 id="installation-of-prisma">Installation of PRISMA<a class="anchor" aria-label="anchor" href="#installation-of-prisma"></a>
</h3>
<p>PRISMA can be installed from GitHub for the time being:</p>
<pre><code><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span>
<span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"pmoulos/prisma"</span><span class="op">)</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="installation-of-3rd-party-tools">Installation of 3rd party tools<a class="anchor" aria-label="anchor" href="#installation-of-3rd-party-tools"></a>
</h2>
<p>In order to exploit all PRISMA functionalities, certain 3rd party tools for calculation of summary statistics, PRS extraction, file format conversion and imputation must be present on the system. Particulalry, <a href="https://www.prsice.info/" class="external-link">PRSice-2</a> must be present and findable, otherwise PRS extraction functionalities (and also the main purpose of the package) will be very limited. Furthermore, if you wish to manually run the full test-suite of the package, certain tests will be skipped if the required 3rd party tools are not present.</p>
<p>The 3rd party tools can be installed outside R and PRISMA manually or from withing R via PRISMA package funcitonalities. In the first case, more manual steps are required but there is the freedom for the user to install these tools at will and whatever location, as long as this is placed on the system's <code>PATH</code> variable. In the second case, the tools are downloaded and installed automatically but they must live in a specific location defined by R faclities in order to be findable by PRISMA.</p>
<div class="section level3">
<h3 id="installation-of-3rd-party-tools-outside-prisma">Installation of 3rd party tools outside PRISMA<a class="anchor" aria-label="anchor" href="#installation-of-3rd-party-tools-outside-prisma"></a>
</h3>
<p>The installation location can be where the user wishes to. Here, we assume that the tools are installed in <code>~/prs-tools</code>:</p>
<pre><code>TOOLS_HOME=~/prs-tools
mkdir -p $TOOLS_HOME</code></pre>
<div class="section level4">
<h4 id="installation-of-tools-for-summary-statistics">Installation of tools for summary statistics<a class="anchor" aria-label="anchor" href="#installation-of-tools-for-summary-statistics"></a>
</h4>
<div class="section level5">
<h5 id="snptest">SNPTEST<a class="anchor" aria-label="anchor" href="#snptest"></a>
</h5>
<p>We assume version 2.5.4 for Ubuntu:</p>
<pre><code>mkdir -p $TOOLS_HOME/snptest-2.5.4 &amp;&amp; cd $TOOLS_HOME/snptest-2.5.4
wget --no-check-certificate  http://www.well.ox.ac.uk/~gav/resources/snptest_v2.5.4-beta3_linux_x86_64_static.tgz
tar -xvf snptest_v2.5.4-beta3_linux_x86_64_static.tgz
cd snptest_v2.5.4-beta3_linux_x86_64_static
mv * ../ &amp;&amp; cd ../
rm -r snptest_v2.5.4-beta3_linux_x86_64_static*
# PRISMA expects to find an executable named snptest
mv snptest_v2.5.4-beta3 snptest </code></pre>
</div>
<div class="section level5">
<h5 id="plink">PLINK<a class="anchor" aria-label="anchor" href="#plink"></a>
</h5>
<p>We assume version 1.90 for 64-bit Linux:</p>
<pre><code>mkdir -p $TOOLS_HOME/plink-1.90 &amp;&amp; cd $TOOLS_HOME/plink-1.90
wget https://s3.amazonaws.com/plink1-assets/plink_linux_x86_64_20220402.zip
unzip plink_linux_x86_64_20220402.zip
rm plink_linux_x86_64_20220402.zip</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="installation-of-prs-extraction-tools">Installation of PRS extraction tools<a class="anchor" aria-label="anchor" href="#installation-of-prs-extraction-tools"></a>
</h4>
<div class="section level5">
<h5 id="installation-of-prsice-2">Installation of PRSice-2<a class="anchor" aria-label="anchor" href="#installation-of-prsice-2"></a>
</h5>
<p>We assume version 2.3.5 for 64-bit Linux:</p>
<pre><code>mkdir -p $TOOLS_HOME/prsice-2.3.5 &amp;&amp; cd $TOOLS_HOME/prsice-2.3.5
wget https://github.com/choishingwan/PRSice/releases/download/2.3.5/PRSice_linux.zip
unzip PRSice_linux.zip
rm PRSice_linux.zip</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="installation-of-additional-tools">Installation of additional tools<a class="anchor" aria-label="anchor" href="#installation-of-additional-tools"></a>
</h4>
<div class="section level5">
<h5 id="installation-of-impute2">Installation of IMPUTE2<a class="anchor" aria-label="anchor" href="#installation-of-impute2"></a>
</h5>
<p>We assume version 2.3.2 for Linux:</p>
<pre><code>mkdir -p $TOOLS_HOME/impute-2.3.2 &amp;&amp; cd $TOOLS_HOME/impute-2.3.2
wget --no-check-certificate https://mathgen.stats.ox.ac.uk/impute/impute_v2.3.2_x86_64_static.tgz
tar -xvf impute_v2.3.2_x86_64_static.
cd impute_v2.3.2_x86_64_static
mv * ../
cd ..
rm -r impute_v2.3.2_x86_64_static*</code></pre>
</div>
<div class="section level5">
<h5 id="installation-of-gtool">Installation of GTOOL<a class="anchor" aria-label="anchor" href="#installation-of-gtool"></a>
</h5>
<p>We assume version 0.7.5 for Linux:</p>
<pre><code>mkdir -p $TOOLS_HOME/gtool-0.7.5 &amp;&amp; cd $TOOLS_HOME/gtool-0.7.5
wget --no-check-certificate  https://www.well.ox.ac.uk/~cfreeman/software/gwas/gtool_v0.7.5_x86_64.tgz
tar -xvf gtool_v0.7.5_x86_64.tgz
rm gtool_v0.7.5_x86_64.tgz</code></pre>
</div>
<div class="section level5">
<h5 id="installation-of-qctool">Installation of QCTOOL<a class="anchor" aria-label="anchor" href="#installation-of-qctool"></a>
</h5>
<p>We assume version 2.2.0 for a later version of Linux (e.g. Ubuntu &gt; 18.04). For older versions, either download version 2.0.8 or GTOOL only should be enough. PRISMA uses QCTOOL and GTOOL to convert PED files to the GEN format and on later Linux systems, for some reason GTOOL fails (they are both older tools!)</p>
<pre><code>mkdir -p $TOOLS_HOME/qctool-2.2.0 &amp;&amp; cd $TOOLS_HOME/qctool-2.2.0
wget --no-check-certificate https://www.well.ox.ac.uk/~gav/resources/qctool_v2.2.0-CentOS_Linux7.8.2003-x86_64.tgz
tar -xvf qctool_v2.2.0-CentOS_Linux7.8.2003-x86_64.tgz
cd qctool_v2.2.0-CentOS\ Linux7.8.2003-x86_64/
mv * ../
rm -r qctool_v2.2.0-CentOS\ Linux7.8.2003-x86_64/ qctool_v2.2.0-CentOS_Linux7.8.2003-x86_64.tgz</code></pre>
</div>
</div>
<div class="section level4">
<h4 id="editing-the-path-variable">Editing the <code>PATH</code> variable<a class="anchor" aria-label="anchor" href="#editing-the-path-variable"></a>
</h4>
<p>The following should now be added to the end of your <code>~/.bashrc</code> file or the end of your <code>~/.profile</code> file or any other shell starting file according to the Linux operating system version. In Windows, a similar path must be followed, described for example <a href="https://docs.oracle.com/en/database/oracle/machine-learning/oml4r/1.5.1/oread/creating-and-modifying-environment-variables-on-windows.html" class="external-link">here</a>.</p>
<pre><code>PRS_TOOLS=~/prs-tools # or wherever the TOOLS_HOME variable points to
export PATH=$PATH:\
    $TOOLS_HOME/snptest-2.5.4:\
    $TOOLS_HOME/plink-1.90:\
    $TOOLS_HOME/prsice-2.3.5:\
    $TOOLS_HOME/impute-2.3.2:\
    $TOOLS_HOME/gtool-0.7.5:\
    $TOOLS_HOME/qctool-2.2.0:</code></pre>
<p>Then you should logout and re-login or:</p>
<pre><code>source ~/.basrhc</code></pre>
<p>for the changes to take effect.</p>
</div>
<div class="section level4">
<h4 id="installation-of-impute2-reference-panel">Installation of IMPUTE2 reference panel<a class="anchor" aria-label="anchor" href="#installation-of-impute2-reference-panel"></a>
</h4>
<p>This could take some time. Also, the path to the reference is not stored somewhere within PRISMA and should be provided every time the <code>extendGWAS</code> function is used.</p>
<pre><code>mkdir -p $TOOLS_HOME/impute_reference &amp;&amp; cd $TOOLS_HOME/impute_reference
wget --no-check-certificate https://mathgen.stats.ox.ac.uk/impute/1000GP_Phase3.tgz
tar -xvf 1000GP_Phase3.tgz
rm 1000GP_Phase3.tgz</code></pre>
<p>The path to the reference file is then <code>$TOOLS_HOME/impute_reference/1000GP_Phase3</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="installation-of-3rd-party-tools-within-prisma">Installation of 3rd party tools within PRISMA<a class="anchor" aria-label="anchor" href="#installation-of-3rd-party-tools-within-prisma"></a>
</h3>
<p>The installation location is specific and is defined by <code>tools::R_user_dir(d)</code>. Then, inside this directory, the aforementioned name convention is followed for each tool, i.e. <code>tool_name_in_lowercase/tool.version</code>. If you choose to install this way instead of manual installation and placing in the <code>PATH</code> variable, the tools should not be moved otherwise PRISMA will <em>not</em> be able to find them. The user will be prompted to accept the installation path. The download wrapper downloads, installs and tests the tools.</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pmoulos/prisma" class="external-link">prisma</a></span><span class="op">)</span></code></pre></div>
<div class="section level4">
<h4 id="installation-of-all-tools">Installation of all tools<a class="anchor" aria-label="anchor" href="#installation-of-all-tools"></a>
</h4>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/downloadExternalFuns.html">downloadExternalTools</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="installation-of-tools-for-summary-statistics-1">Installation of tools for summary statistics<a class="anchor" aria-label="anchor" href="#installation-of-tools-for-summary-statistics-1"></a>
</h4>
<div class="section level5">
<h5 id="snptest-1">SNPTEST<a class="anchor" aria-label="anchor" href="#snptest-1"></a>
</h5>
<p>We assume version 2.5.4 for Ubuntu:</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/downloadExternalFuns.html">downloadSnptest</a></span><span class="op">(</span>ver<span class="op">=</span><span class="st">"v2.5.4"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="plink-1">PLINK<a class="anchor" aria-label="anchor" href="#plink-1"></a>
</h5>
<p>We assume version 1.90 for 64-bit Linux:</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/downloadExternalFuns.html">downloadPlink</a></span><span class="op">(</span>ver<span class="op">=</span><span class="st">"v1.90"</span><span class="op">)</span>
<span class="co"># or just</span>
<span class="co"># downloadPlink()</span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="installation-of-prs-extraction-tools-1">Installation of PRS extraction tools<a class="anchor" aria-label="anchor" href="#installation-of-prs-extraction-tools-1"></a>
</h4>
<div class="section level5">
<h5 id="installation-of-prsice-2-1">Installation of PRSice-2<a class="anchor" aria-label="anchor" href="#installation-of-prsice-2-1"></a>
</h5>
<p>We assume version 2.3.5 for 64-bit Linux:</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/downloadExternalFuns.html">downloadPrsice</a></span><span class="op">(</span>ver<span class="op">=</span><span class="st">"v2.3.5"</span><span class="op">)</span>
<span class="co"># or just</span>
<span class="co"># downloadPrsice()</span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="installation-of-additional-tools-and-resources">Installation of additional tools and resources<a class="anchor" aria-label="anchor" href="#installation-of-additional-tools-and-resources"></a>
</h4>
<div class="section level5">
<h5 id="installation-of-impute2-1">Installation of IMPUTE2<a class="anchor" aria-label="anchor" href="#installation-of-impute2-1"></a>
</h5>
<p>We assume version 2.3.2 for Linux:</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">downloadImpute2</span><span class="op">(</span>ver<span class="op">=</span><span class="st">"v2.3.2"</span><span class="op">)</span>
<span class="co"># or just</span>
<span class="co"># downloadImpute2()</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="installation-of-gtool-1">Installation of GTOOL<a class="anchor" aria-label="anchor" href="#installation-of-gtool-1"></a>
</h5>
<p>We assume version 0.7.5 for Linux:</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/downloadExternalFuns.html">downloadGtool</a></span><span class="op">(</span>ver<span class="op">=</span><span class="st">"v0.7.5"</span><span class="op">)</span>
<span class="co"># or just</span>
<span class="co"># downloadGtool()</span></code></pre></div>
</div>
<div class="section level5">
<h5 id="installation-of-qctool-1">Installation of QCTOOL<a class="anchor" aria-label="anchor" href="#installation-of-qctool-1"></a>
</h5>
<p>We assume version 2.2.0 for a later version of Linux (e.g. Ubuntu &gt; 18.04). For older versions, either download version 2.0.8 or GTOOL only should be enough. PRISMA uses QCTOOL and GTOOL to convert PED files to the GEN format and on later Linux systems, for some reason GTOOL fails (they are both older tools!)</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/downloadExternalFuns.html">downloadQctool</a></span><span class="op">(</span>ver<span class="op">=</span><span class="st">"v2.2.0"</span><span class="op">)</span>
<span class="co"># or just</span>
<span class="co"># downloadQctool()</span></code></pre></div>
</div>
</div>
<div class="section level4">
<h4 id="installation-of-impute2-reference-panel-1">Installation of IMPUTE2 reference panel<a class="anchor" aria-label="anchor" href="#installation-of-impute2-reference-panel-1"></a>
</h4>
<p>This could take some time. Also, the path to the reference is not stored somewhere within PRISMA and should be provided every time the <code>extendGWAS</code> function is used.</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="st">"TOOLS_HOME/impute_reference"</span><span class="op">)</span>
<span class="fu"><a href="../reference/downloadExternalFuns.html">download1000GP3</a></span><span class="op">(</span><span class="st">"TOOLS_HOME/impute_reference"</span><span class="op">)</span></code></pre></div>
<p>The path to the reference file is then <code>TOOLS_HOME/impute_reference/1000GP_Phase3</code>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="test-the-prisma-installation">Test the PRISMA installation<a class="anchor" aria-label="anchor" href="#test-the-prisma-installation"></a>
</h2>
<p>Prior to each build and release, we perform extensive tests shipping with the package. If you wish to run these tests (can take some time) then:</p>
<div class="sourceCode"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://testthat.r-lib.org" class="external-link">testthat</a></span><span class="op">)</span>
<span class="fu"><a href="https://testthat.r-lib.org/reference/test_package.html" class="external-link">test_package</a></span><span class="op">(</span><span class="st">"prisma"</span><span class="op">)</span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Panagiotis Moulos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.9000.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
