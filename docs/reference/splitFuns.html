<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="These functions are used to create training and testing
    splits to be used in the iterative PRS extraction process
    of PRISMA. They are losely based on the dataset 
    partitoning functions of the R package caret and can also 
    be used independently of the general pipeline."><title>Functions to split datasets in training and test samples — splitFuns • prisma</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functions to split datasets in training and test samples — splitFuns"><meta property="og:description" content="These functions are used to create training and testing
    splits to be used in the iterative PRS extraction process
    of PRISMA. They are losely based on the dataset 
    partitoning functions of the R package caret and can also 
    be used independently of the general pipeline."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">prisma</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01-introduction.html">Introduction to the prisma package</a>
    <a class="dropdown-item" href="../articles/02-installation.html">PRISMA installation</a>
    <a class="dropdown-item" href="../articles/03-gwasexperiment.html">The GWASExperiment class</a>
    <a class="dropdown-item" href="../articles/04-inoutfilter.html">Reading, writing and filtering files and objects</a>
    <a class="dropdown-item" href="../articles/05-imputemerge.html">Imputation of missing genotypes, genotype extension and dataset merging</a>
    <a class="dropdown-item" href="../articles/06-gwasfuns.html">Single trait association tests and summary statistics</a>
    <a class="dropdown-item" href="../articles/07-prsfuns.html">Derivation of PRS candidates and evaluation</a>
    <a class="dropdown-item" href="../articles/08-pipelines.html">Complete PRISMA pipelines</a>
    <a class="dropdown-item" href="../articles/09-external.html">Evaluation of external PRS or external GWAS</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pmoulos/prisma/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Functions to split datasets in training and test samples</h1>
      
      <div class="d-none name"><code>splitFuns.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions are used to create training and testing
    splits to be used in the iterative PRS extraction process
    of PRISMA. They are losely based on the dataset 
    partitoning functions of the R package caret and can also 
    be used independently of the general pipeline.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">createSplit</span><span class="op">(</span><span class="va">y</span>, n <span class="op">=</span> <span class="fl">1</span>, frac <span class="op">=</span> <span class="fl">0.5</span>, ngrp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span>,
        replace <span class="op">=</span> <span class="cn">FALSE</span>, out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"index"</span>, <span class="st">"binary"</span><span class="op">)</span>, rc <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
    
    <span class="fu">partitionGWAS</span><span class="op">(</span><span class="va">obj</span>, <span class="va">by</span>, n <span class="op">=</span> <span class="fl">1</span>, frac <span class="op">=</span> <span class="fl">0.5</span>, 
        ngrp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">obj</span><span class="op">)</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">FALSE</span>,
        out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"index"</span>, <span class="st">"train"</span>, <span class="st">"ttboth"</span><span class="op">)</span>, rc <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>y</dt>
<dd><p>A vector of numeric values to be split to a
    "training" and a "test" set and return the respective
    indices.</p></dd>
<dt>obj</dt>
<dd><p>Instead of <code>y</code> above, a GWASExperiment
    object.</p></dd>
<dt>by</dt>
<dd><p>The phenotype in <code>obj</code> to be used for
    splitting. It should be a scalar character.</p></dd>
<dt>n</dt>
<dd><p>How many splits to create? Defaults to <code>1</code>.</p></dd>
<dt>frac</dt>
<dd><p>The fraction of values to remain in the
    "training" set. Defaults to <code>0.5</code>.</p></dd>
<dt>ngrp</dt>
<dd><p>In how many "virtual" groups should <code>y</code>
    be split? Controls the uniformity of values in the two
    resulting sets. See also Details.</p></dd>
<dt>replace</dt>
<dd><p>Sample values/samples with replacement?
    Defaults to <code>FALSE</code>.</p></dd>
<dt>out</dt>
<dd><p>For <code>createSplit</code>, either <code>"index"</code>
    (default) to return a list of length <code>n</code> with 
    "training" index splits, or <code>"binary"</code> to return
    the same list but instead of indices, it contains a
    mask of <code>0</code>s and <code>1</code>s indicating which samples
    have been selected and which discarded in the "training"
    set. For <code>partitionGWAS</code>, either <code>"index"</code> 
    (default and same as <code>createSplit</code>m but now the
    indices refer to the columns of <code>obj</code>), or 
    <code>"train"</code> to return a <code>GWASExperiment</code> with
    the training samples, or <code>"ttboth"</code> to return
    a list of <code>GWASExperiment</code>s. In the latter case,
    the list has named members with names <code>train</code> and 
    <code>test</code> respectively and the value of <code>n</code> is
    ignored, returning only one split.</p></dd>
<dt>rc</dt>
<dd><p>The fraction of available cores to use for 
    parallel calculations. Default is <code>NULL</code> for no
    parallelization.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>For <code>createSplit</code>, a list of length <code>n</code>    with the splits in the form of vector indices or
    a binary mask with <code>1</code>s the training samples
    and <code>0</code>s the test samples.
    For <code>partitionGWAS</code>, a list of indices as above
    or a list of <code>GWASExperiment</code> objects to be used
    as training samples, or a list with the training and
    testing <code>GWASExperiment</code> objects.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Panagiotis Moulos</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in">    <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">toy</span>,package<span class="op">=</span><span class="st">"prisma"</span><span class="op">)</span></span>
<span class="r-in">    </span>
<span class="r-in">    <span class="va">trainTest</span> <span class="op">&lt;-</span> <span class="fu">partitionGWAS</span><span class="op">(</span><span class="va">toy</span>,by<span class="op">=</span><span class="st">"BMI"</span>,out<span class="op">=</span><span class="st">"ttboth"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Partitioning dataset into 1 partitions by BMI</span>
<span class="r-in">    </span>
<span class="r-in">    <span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="GWASExperiment-class.html">phenotypes</a></span><span class="op">(</span><span class="va">toy</span><span class="op">)</span><span class="op">$</span><span class="va">BMI</span></span>
<span class="r-in">    <span class="va">z</span> <span class="op">&lt;-</span> <span class="fu">createSplit</span><span class="op">(</span><span class="va">y</span>,frac<span class="op">=</span><span class="fl">0.8</span>,n<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Panagiotis Moulos.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>

